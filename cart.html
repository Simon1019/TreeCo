<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
		<link href="css/mui.min.css" rel="stylesheet" />
		<link href="css/iconfont.css" rel="stylesheet" />
	
	</head>
	<body>
	
		<header class="mui-bar mui-bar-nav">
		    <a class="mui-action-back mui-icon mui-icon-left-nav mui-pull-left"></a>
		    <h1 class="mui-title">Shopping Cart</h1>
		</header>
		<!--下拉刷新容器-->
	<div id="pullrefresh" class="mui-content mui-scroll-wrapper">
		  <div class="mui-scroll">
		 <ul class="mui-table-view">
		     <li class="mui-table-view-cell mui-media">
		         <a href="javascript:;">
		             <img id='treeImg' class="mui-media-object mui-pull-left" src="http://placehold.it/40x30">
		             <div class="mui-media-body">
		                 <p id='treeName' class="mui-h4" style="margin-left: 10px; color: #000000;">Tree 1</p>
		                <div  id='numberOftree1' class="mui-numbox"  style="height: 30px;margin-left: 110px;"  data-numbox-step='1' data-numbox-min='0' data-numbox-max='10'>
		                    <button class="mui-btn mui-btn-numbox-minus" type="button">-</button>
		                    <input class="mui-input-numbox" type="number" />
		                    <button class="mui-btn mui-btn-numbox-plus" type="button">+</button>
		                </div>
		                <button class="mui-btn mui-btn-success" style="height: 30px; width: 70px;">Buy</button>
		             </div>
		         </a>
		     </li>
		   
		 </ul>
		  </div>
		</div>
		
		
		
<script src="js/mui.min.js"></script>
		<script type="text/javascript">
		mui.init({
				  pullRefresh : {
				    container:"#pullrefresh",//下拉刷新容器标识，querySelector能定位的css选择器均可，比如：id、.class等
				    down : {
				      style:'circle',//必选，下拉刷新样式，目前支持原生5+ ‘circle’ 样式
				      color:'#2BD009', //可选，默认“#2BD009” 下拉刷新控件颜色
				      height:'50px',//可选,默认50px.下拉刷新控件的高度,
				      range:'100px', //可选 默认100px,控件可下拉拖拽的范围
				      offset:'0px', //可选 默认0px,下拉刷新控件的起始位置
				      auto: true,//可选,默认false.首次加载自动上拉刷新一次
				      callback :pulldownRefresh//必选，刷新函数，根据具体业务来编写，比如通过ajax从服务器获取新数据；
				    }
				  }
				});
			/**
			 * 下拉刷新具体业务实现
			 * 
			 */
			
			function plusReady(){
	      		wv=plus.webview.currentWebview();
	      	}
	      	
	      	if(window.plus){
				plusReady();
			}else{
				document.addEventListener('plusready', plusReady, false);
			}	
			
			function pulldownRefresh(){
				setTimeout(function(){
					var treeName = document.getElementById('treeName');
					var treeImg = document.getElementById('treeImg');
					
					var getTree = plus.storage.getItem('Anne Frank Tree');
					if(getTree=!0){
						var noOftree=  plus.storage.getItem('Anne Frank Tree');
						treeName.innerHTML='Anne Frank Tree';
						treeImg.src='images/t1.jpg';
						console.log('dsads: '+noOftree);
						mui(numberOftree1).numbox().setValue(noOftree);
					}
				},500)
				mui('#pullrefresh').pullRefresh().endPulldownToRefresh(); 
			}
			
	
		</script>
	
	</body>
		
</html>
